<%= form_with model: @project do |f| %>
  <% if @project.errors.any? %>
    <div class='text-danger'>
      <h3>Erros:</h3>
      <ul>
        <% @project.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="mb-3">
    <%= f.label :title, class: 'form-label' %>
    <%= f.text_field :title, class: 'form-control' %>
  </div>
  <div class="mb-3">
    <%= f.label :description, class: 'form-label' %>
    <%= f.text_area :description, class: 'form-control' %>
  </div>
  <div class="mb-3">
    <%= f.label :category, class: 'form-label' %>
    <%= f.text_field :category, class: 'form-control' %>
  </div>
  <div class="mb-3" id="project_job_category"> 
    <p><%= ProjectJobCategory.model_name.human(count: 2) %></p>
    <% if @job_categories&.any? %>
      <% @job_categories.each do |job_category| %>
        <p>
          <%= f.check_box :project_job_category_ids, {multiple: true, checked: (@project.project_job_categories.exists?(job_category_id: job_category.id))}, job_category.id, nil %>
          <%= f.label "project_job_category_ids_#{job_category.id}", job_category.name %>
        </p>
      <% end %>
    <% else %>
      <div style="font-size: 14px;">
        <%= t('project_job_categories.is_empty') %>
      </div>
    <% end %>
  </div>

  <div>
    <%= f.submit 'Salvar Projeto', class: 'btn btn-primary'%>
  </div>
<% end %>
